<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Bookmarks</title>
		<meta name="robots" content="noindex, nofollow">
		<meta name="description" content="Developer's Bookmarks">
		<meta name="author" content="Miles Nature">
		<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, minimum-scale=1.0, maximum-scale=5, user-scalable=0">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<link rel="stylesheet" href="dist/assets/css/styles.min.css?v=15">
		<link rel="apple-touch-icon" sizes="180x180" href="https://milesnature.com/favicons/bookmark/apple-touch-icon.png?v=15">
		<link rel="icon" type="image/png" sizes="32x32" href="https://milesnature.com/favicons/bookmark/favicon-32x32.png?v=15">
		<link rel="icon" type="image/png" sizes="16x16" href="https://milesnature.com/favicons/bookmark/favicon-16x16.png?v=15">
		<link rel="icon" href="https://milesnature.com/favicons/bookmark/favicon.svg?v=15">
		<link rel="manifest" href="/site.webmanifest" crossorigin="use-credentials">
	</head>
	<body>
		<main>
			<section id="bookmarks" class="">
				<div id="bookmark-loader">
					<svg><use href="#bouncingBookmark"></use></svg>
				</div>				
			</section>
		</main>
		<template id="templateFormEdit">
			<form id="formEdit" class="create bookmark form" title="Edit Bookmarks Form" novalidate>
				<div class="action fieldset">	
					<label id="createLabel">Create:
						<input id="create" type="radio" name="action" value="create" checked="checked" />
					</label>
					<label id="deleteLabel">Delete:
						<input id="delete" type="radio" name="action" value="delete" />
					</label>
					<label id="updateLabel">Update:
						<input id="update" type="radio" name="action" value="update" />
					</label>
				</div>
				<div class="element fieldset">
					<label id="bookmarkLabel">Bookmark:
						<input id="bookmark" type="radio" name="element" value="bookmark" checked="checked" />
					</label>
					<label id="groupLabel">Group:
						<input id="group" type="radio" name="element" value="group" />
					</label>
				</div>	
				<div class="detail fieldset">
					<label id="bookmarksLabel">Bookmark:
						<select id="bookmarksSelect" name="name_select"></select>
					</label>				
					<label id="groupsLabel">Group:
						<input id="groupText" type="text" name="group" placeholder="Group" />
						<select id="groupSelect" name="group_select"></select>
					</label>
					<label id="nameLabel">Name:
						<input id="nameText" type="text" name="name" placeholder="Name" />
						<select id="nameSelect" name="name_select"></select>
					</label>
					<label id="urlLabel">Url:
						<input id="urlText" type="text" name="url" placeholder="Url" />
					</label>
				</div>
				<div class="complete fieldset">
					<label>		
						<input id="submit" type="submit" name="submit" class="submit" value="Create" />
					</label>		
					<textarea id="errorMessage" aria-live="polite" readonly></textarea>
				</div>
				<button id="close" type="button" name="close" title="Close Edit Bookmarks Form" class="close">
					<svg><use href="#closeFormIcon"></use></svg>		
				</button>
			</form>
		</template>
		<template id="templateFormSettings">
			<form id="formSettings" class="form" title="Settings Form" novalidate>
				<div class="appearance fieldset">	
					<label>Default:
						<input id="appearanceDefault" type="radio" name="settingsAppearance" value="default" />
					</label>
					<label>Light Mode:
						<input id="appearanceLight" type="radio" name="settingsAppearance" value="light" />
					</label>
					<label>Dark Mode:
						<input id="appearanceDark" type="radio" name="settingsAppearance" value="dark" />
					</label>				
				</div>

				<div class="style fieldset">	
					<label>Default:
						<input id="styleDefault" type="radio" name="settingsStyle" value="default" />
					</label>
					<label>Tidy (Desktop):
						<input id="styleTidy" type="radio" name="settingsStyle" value="tidy" />
					</label>			
				</div>	

				<button id="close" type="button" name="close" title="Close Settings Form" class="close">
					<svg><use href="#closeFormIcon"></use></svg>			
				</button>
			</form>
		</template>
		<template id="templateFormGroups">
			<form id="formGroups" class="form" title="Groups Form" novalidate>
				<div class="groups fieldset"></div>
				<div class="select-groups-buttons">
					<button id="selectAll">All</button>
					<button id="deselectAll">None</button>
				</div>
				<button id="close" type="button" name="close" title="Close Groups Form" class="close">
					<svg><use href="#closeFormIcon"></use></svg>
				</button>
			</form>
		</template>		 				
		<footer>
			<nav>
				<button class="create">Create</button>
				<button class="delete">Delete</button>
				<button class="update">Update</button>
				<button class="settings">Settings</button>
				<button class="groups">Groups</button>
			</nav>
			<small class="links"><a id="about" href="https://github.com/milesnature/bookmarks" target="_blank" rel="noreferrer">About</a><a id="help" href="#">Help</a></small>
			<small class="copyright">Copyright &copy; <span id="year"></span>  Miles Nature. All Rights Reserved.</small>
		</footer>
		<template id="templateModalHelp">
			<div class="modal-container">
				<div class="modal help">	
					<svg class="close" tabindex="0"><use href="#closeModalIcon"></use></svg>
					<h2>Help</h2>
					<details id="helpOpenForm">
						<summary>How to open the form.</summary>
						<p>There are 3 buttons in the footer, at the bottom of the page: <strong>Create</strong>, <strong>Delete</strong>, and <strong>Update</strong>. Clicking one of these actions will open the form and auto-scroll to it.</p>
						<p>This help modal may be obstructing the form and or the actions buttons.</p>
					</details>
					<details id="helpUseForm">
						<summary>How to use the form.</summary>
						<p>
							The form has 4 main sections (boxes). It is designed to make sense when completed in order.
							<ol>
								<li><strong>1. Action.</strong> Select Create, Delete, or Update.</li>
								<li><strong>2. Element.</strong> Select Group or Bookmark.</li>
								<li><strong>3. Detail.</strong> Edit and or Select.</li>
								<li><strong>4. Submit.</strong> Click action button.</li>
							</ol>
						</p>
						<p>A successfull request will reset the form and reload the bookmarks section. This page does not need to be manually reloaded or refreshed.</p>
						<p>Errors are displayed in red, underneath the submit button.</p>
						<p>Close the form with the up arrow, located at the bottom edge of the form window. An open form will persist (in local storage) after page refreshes until it is manually closed.</p>
					</details>
					<details id="helpEmptyDatabase">
						<summary>New (empty) database.</summary>
						<p>The first step is to create a group. A bookmark and it's repsective group share the same database object. This requires a bookmark to be created at the same time as a new group.</p>
						<p>Select form fields <strong>Create</strong> (Action) and <strong>Group</strong> (Element). The form should already be open with these options preselected.</p>
						<p>Add a <strong>Group</strong>, a <strong>Name</strong>, and a <strong>Url</strong> (Detail). Then click <strong>Create</strong> (Submit).</p>
						<p>Rinse and repeat.</p>
					</details>
					<details id="helpDragDrop">
						<summary>Drag & Drop</summary>
						<p>Bookmarks can be dragged from one group to another. Once an element is dropped, a pre-filled edit form will be launched. Confirm the data and click update.</p>
						<p>Dragging a url from the address bar of another browser tab is also supported. Dropping onto a group will launch a pre-filled edit form. Name the bookmark and click create.</p>
					</details>
					<details id="helpAppearance">
						<summary>Appearance (Dark Mode)</summary>
						<p>Light and Dark modes are supported.</p> 
						<p>Use the Settings button in the footer to launch the form. The Default setting will inherit the browser's appearance. Light and Dark mode settings will override this.</p>
						<p>This preference is saved in local storage and is at risk of deletion if the cache is cleared.</p>
					</details>
					<details id="helpGroups">
						<summary>Groups</summary>
						<p>Customize which groups are visible in each respective browser, enabling a more focused workflow.</p> 
						<p>This preference is saved in local storage and is at risk of deletion if the cache is cleared.</p>
					</details>								
				</div>
			</div>
		</template>				

		<template id="templateClock">
			<style type="text/css">
				.form-open .clock { display : none; }
				.clock { position : relative; z-index: 0; display : block; margin : 42px auto; width : 120px; height : 120px;}
				.clock svg { position : absolute; z-index: 0; top : 5px; left : 5px; }
				.hand-minutes, .hand-hours, .hand-seconds { transform : rotate( 0deg ); }
				.face, .pin, .hand-minutes, .hand-hours, .hand-seconds { width : 109px; height : 109px; }
				.face { fill : var(--grayscale-01); stroke : var(--grayscale-25); }
				.dark-mode .face { fill : var(--grayscale-22); stroke : var(--grayscale-06); }
				.pin { fill : var(--grayscale-25); stroke : var(--grayscale-01); }
				.dark-mode .pin { fill : var(--grayscale-06); stroke : var(--grayscale-22); }
				.hand-seconds { stroke : var(--red); }
				.dark-mode .hand-seconds { stroke : #00ff00; }
				.hand-minutes, .hand-hours { stroke : var(--grayscale-25); }
				.dark-mode .hand-minutes, .dark-mode .hand-hours { stroke : var(--grayscale-06); }
				@media ( prefers-color-scheme: dark ) {
					.light-mode .face { fill : var(--grayscale-01); stroke : var(--grayscale-25); }
					.face { fill : var(--grayscale-22); stroke : var(--grayscale-06); }
					.light-mode .pin { fill : var(--grayscale-25); stroke : var(--grayscale-01); }
					.pin { fill : var(--grayscale-06); stroke : var(--grayscale-22); }
					.light-mode .hand-seconds { stroke : var(--red); }
					.hand-seconds { stroke : #00ff00; }
					.light-mode .hand-minutes, .light-mode .hand-hours { stroke : var(--grayscale-25); }
					.hand-minutes, .dark-mode .hand-hours { stroke : var(--grayscale-06); }					
				}	
			</style>
			<svg xmlns="http://www.w3.org/2000/svg" width="0" height="0">
				<symbol id="clock-face-01" viewBox="0 0 309 309">
				    <g stroke-width="1" fill-rule="evenodd">
				        <g>
				            <circle stroke="none" cx="154.5" cy="154.5" r="154.5"></circle>
				            <g class="minutes" transform="translate(4.003333, 4.000000)">
				                <line x1="150.501667" y1="0.501666667" x2="150.501667" y2="300.498333" fill="none"></line>
				                <line x1="166.358191" y1="1" x2="135" y2="299.353254" fill="none"></line>
				                <line x1="181.372814" y1="4" x2="119" y2="297.44102" fill="none"></line>
				                <line x1="196.704068" y1="8" x2="104" y2="293.313785" fill="none"></line>
				                <line x1="211.019637" y1="13" x2="89" y2="287.060592" fill="none"></line>
				                <line x1="280.804734" y1="225.998333" x2="21" y2="76" fill="none"></line>
				                <line x1="271.702402" y1="238.333616" x2="29" y2="62" fill="none"></line>
				                <line x1="261.94097" y1="250.736951" x2="39" y2="50" fill="none"></line>
				                <line x1="250.736951" y1="261.94097" x2="50" y2="39" fill="none"></line>
				                <line x1="238.333616" y1="271.702402" x2="62" y2="29"fill="none"></line>
				                <line x1="224.998333" y1="21" x2="75" y2="280.804734" fill="none"></line>
				                <line x1="238.333616" y1="29" x2="62" y2="271.702402" fill="none"></line>
				                <line x1="250.736951" y1="39" x2="50" y2="261.94097" fill="none"></line>
				                <line x1="261.94097" y1="50" x2="39" y2="250.736951" fill="none"></line>
				                <line x1="271.702402" y1="62" x2="29" y2="238.333616" fill="none"></line>
				                <line x1="280.804734" y1="76" x2="21" y2="225.998333" fill="none"></line>
				                <line x1="287.060592" y1="89" x2="13" y2="211.019637" fill="none"></line>
				                <line x1="293.313785" y1="104" x2="8" y2="196.704068" fill="none"></line>
				                <line x1="297.44102" y1="119" x2="4" y2="181.372814" fill="none"></line>
				                <line x1="299.353254" y1="135" x2="1" y2="166.358191" fill="none"></line>
				                <line x1="75" y1="21" x2="224.998333" y2="280.804734" fill="none"></line>
				                <line x1="89" y1="13" x2="211.019637" y2="287.060592" fill="none"></line>
				                <line x1="104" y1="8" x2="196.704068" y2="293.313785" fill="none"></line>
				                <line x1="119" y1="4" x2="181.372814" y2="297.44102" fill="none"></line>
				                <line x1="135" y1="1" x2="166.358191" y2="299.353254" fill="none"></line>
				                <line x1="299.996667" y1="150.501667" x2="0" y2="150.501667" fill="none"></line>
				                <line x1="299.353254" y1="166.358191" x2="1" y2="135" fill="none"></line>
				                <line x1="297.44102" y1="181.372814" x2="4" y2="119" fill="none"></line>
				                <line x1="293.313785" y1="196.704068" x2="8" y2="104" fill="none"></line>
				                <line x1="287.060592" y1="211.019637" x2="13" y2="89" fill="none"></line>
				                <circle stroke="none" cx="150.5" cy="150.5" r="143.5"></circle>
				            </g>
				            <g class="hours" transform="translate(4.003333, 4.000000)">
				                <line x1="150.501667" y1="0.501666667" x2="150.501667" y2="300.498333" fill="none" stroke-width="3"></line>
				                <line x1="280.804734" y1="225.998333" x2="21" y2="76" fill="none" stroke-width="3"></line>
				                <line x1="224.998333" y1="21" x2="75" y2="280.804734" fill="none" stroke-width="3"></line>
				                <line x1="280.804734" y1="76" x2="21" y2="225.998333" fill="none" stroke-width="3"></line>
				                <line x1="75" y1="21" x2="224.998333" y2="280.804734" fill="none" stroke-width="3"></line>
				                <line x1="299.996667" y1="150.501667" x2="0" y2="150.501667" fill="none" stroke-width="3"></line>
				                <circle stroke="none" cx="150.5" cy="150.5" r="139.5"></circle>
				            </g>
				        </g>
				    </g>
				</symbol>
				<symbol id="pin" viewBox="0 0 300 300">
				  	<circle cx="150" cy="150" r="7" stroke-width="1" />		  	
				</symbol>
				<symbol id="hand-hours" viewBox="0 0 300 300">
				  	<line x1="150" y1="150" x2="150" y2="90" stroke-linecap="round" stroke-width="5" fill="none" />
				</symbol>
				<symbol id="hand-minutes" viewBox="0 0 300 300">
				  	<line x1="150" y1="150" x2="150" y2="42" stroke-linecap="round" stroke-width="3" fill="none" />
				</symbol>
				<symbol id="hand-seconds" viewBox="0 0 300 300">		
				  	<line x1="150" y1="150" x2="150" y2="20" stroke-linecap="round" stroke-width="1" fill="none" />
				</symbol>						
			</svg>
			<figure class="clock">
				<svg class="face"><use href="#clock-face-01"></use></svg>
				<svg class="hand-seconds"><use href="#hand-seconds"></use></svg>
				<svg class="hand-minutes"><use href="#hand-minutes"></use></svg>
				<svg class="hand-hours"><use href="#hand-hours"></use></svg>
				<svg class="pin"><use href="#pin"></use></svg>
			</figure>			
		</template>

		<script src="assets/js/modules.js" type="module"></script>
<!--
		<script src="/socket.io/socket.io.js"></script>
		<script>
		  	var socket = io();
			socket.on('change', function(msg){
			    console.log('change', msg);
			    location.reload();
			});		  
		</script>
-->
		<svg xmlns="http://www.w3.org/2000/svg" width="0" height="0">
			<symbol id="bouncingBookmark" width="22" height="43" viewBox="0 0 22 43">
				<title>Loading Bookmarks</title>
				<g fill="none" fill-rule="evenodd">
					<polygon fill="#680000" points="0 43 11 35 22 43 22 42 11 34 0 42"/>
					<polygon fill="#C80000" points="0 0 22 0 22 42 11 34 0 42"/>
				</g>
			</symbol>
			<symbol id="closeFormIcon" width="25" height="14" viewBox="0 0 25 14">
				<title>Close Form</title>
				<desc>This is an arrow, indicting the collapse of an open form.</desc>
			  	<path fill="none" stroke-linecap="round" d="M0,10 C0.35,9.64912281 3.85,6.31578947 10.5,1.0658141e-14 L21,10" transform="translate(2 2)"/>
			</symbol>
			<symbol id="closeModalIcon" width="48" height="48" viewBox="0 0 48 48">
				<g fill="none" fill-rule="evenodd">
					<title>Close</title>
					<circle cx="24" cy="24" r="24"/>
					<line x1="16" x2="32" y1="16" y2="32" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
					<line x1="32" x2="16" y1="16" y2="32" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
				</g>
			</symbol>
		</svg>

	</body>
</html>